// Copyright 2020-2026 Consensys Software Inc.
// Licensed under the Apache License, Version 2.0. See the LICENSE file for details.

// Code generated by consensys/gnark-crypto DO NOT EDIT

package fr

// ExpBySqrtExp is equivalent to z.Exp(x, 7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a).
// It raises x to the (p-2^s-1)/2^(s+1) power using a shorter addition chain,
// where s the 2-adic valuation of p-1.
//
// uses github.com/mmcloughlin/addchain v0.4.0 to generate a shorter addition chain
func (z *Element) ExpBySqrtExp(x Element) *Element {
	// addition chain:
	//
	//	_10       = 2*1
	//	_11       = 1 + _10
	//	_110      = 2*_11
	//	_1000     = _10 + _110
	//	_1001     = 1 + _1000
	//	_10010    = 2*_1001
	//	_10011    = 1 + _10010
	//	_10100    = 1 + _10011
	//	_11100    = _1000 + _10100
	//	_101111   = _10011 + _11100
	//	_1000001  = _10010 + _101111
	//	_1011101  = _11100 + _1000001
	//	_1100110  = _1001 + _1011101
	//	_10010101 = _101111 + _1100110
	//	_10101001 = _10100 + _10010101
	//	_11101010 = _1000001 + _10101001
	//	_11110011 = _1001 + _11101010
	//	i18       = _1011101 + _11110011
	//	i19       = _1100110 + i18
	//	i20       = _11101010 + i19
	//	i21       = _1000 + i20
	//	i22       = 1 + i21
	//	i23       = _11110011 + i22
	//	i24       = _10101001 + i23
	//	i25       = i22 + i24
	//	i26       = _110 + i25
	//	i27       = i18 + i26
	//	i28       = i21 + i27
	//	i29       = i20 + i28
	//	i30       = i24 + i29
	//	i31       = i27 + i30
	//	i32       = i29 + i31
	//	i33       = i31 + i32
	//	i34       = i28 + i33
	//	i35       = i30 + i34
	//	i36       = i25 + i35
	//	i37       = i33 + i36
	//	i38       = i34 + i37
	//	i39       = i26 + i38
	//	i40       = i19 + i39
	//	x16       = i23 + i40
	//	x32       = x16 << 16 + x16
	//	i140      = ((x32 << 48 + x16) << 16 + x16) << 16
	//	i174      = ((x16 + i140) << 16 + x16) << 15 + i35
	//	i223      = ((i174 << 17 + i39) << 16 + i37) << 14
	//	i259      = ((i32 + i223) << 18 + i38) << 15 + i36
	//	return      2*((i259 << 17 + i40) << 10 + _10010101)
	//
	// Operations: 238 squares 51 multiplies

	// Allocate Temporaries.
	var (
		t0 = new(Element)
		t1 = new(Element)
		t2 = new(Element)
		t3 = new(Element)
		t4 = new(Element)
		t5 = new(Element)
		t6 = new(Element)
		t7 = new(Element)
		t8 = new(Element)
	)

	// var t0,t1,t2,t3,t4,t5,t6,t7,t8 Element
	// Step 1: z = x^0x2
	z.Square(&x)

	// Step 2: t0 = x^0x3
	t0.Mul(&x, z)

	// Step 3: t5 = x^0x6
	t5.Square(t0)

	// Step 4: t1 = x^0x8
	t1.Mul(z, t5)

	// Step 5: t4 = x^0x9
	t4.Mul(&x, t1)

	// Step 6: t2 = x^0x12
	t2.Square(t4)

	// Step 7: z = x^0x13
	z.Mul(&x, t2)

	// Step 8: t6 = x^0x14
	t6.Mul(&x, z)

	// Step 9: t0 = x^0x1c
	t0.Mul(t1, t6)

	// Step 10: z = x^0x2f
	z.Mul(z, t0)

	// Step 11: t2 = x^0x41
	t2.Mul(t2, z)

	// Step 12: t3 = x^0x5d
	t3.Mul(t0, t2)

	// Step 13: t0 = x^0x66
	t0.Mul(t4, t3)

	// Step 14: z = x^0x95
	z.Mul(z, t0)

	// Step 15: t6 = x^0xa9
	t6.Mul(t6, z)

	// Step 16: t2 = x^0xea
	t2.Mul(t2, t6)

	// Step 17: t7 = x^0xf3
	t7.Mul(t4, t2)

	// Step 18: t4 = x^0x150
	t4.Mul(t3, t7)

	// Step 19: t0 = x^0x1b6
	t0.Mul(t0, t4)

	// Step 20: t3 = x^0x2a0
	t3.Mul(t2, t0)

	// Step 21: t2 = x^0x2a8
	t2.Mul(t1, t3)

	// Step 22: t1 = x^0x2a9
	t1.Mul(&x, t2)

	// Step 23: t7 = x^0x39c
	t7.Mul(t7, t1)

	// Step 24: t6 = x^0x445
	t6.Mul(t6, t7)

	// Step 25: t1 = x^0x6ee
	t1.Mul(t1, t6)

	// Step 26: t5 = x^0x6f4
	t5.Mul(t5, t1)

	// Step 27: t4 = x^0x844
	t4.Mul(t4, t5)

	// Step 28: t2 = x^0xaec
	t2.Mul(t2, t4)

	// Step 29: t3 = x^0xd8c
	t3.Mul(t3, t2)

	// Step 30: t6 = x^0x11d1
	t6.Mul(t6, t3)

	// Step 31: t4 = x^0x1a15
	t4.Mul(t4, t6)

	// Step 32: t3 = x^0x27a1
	t3.Mul(t3, t4)

	// Step 33: t4 = x^0x41b6
	t4.Mul(t4, t3)

	// Step 34: t2 = x^0x4ca2
	t2.Mul(t2, t4)

	// Step 35: t6 = x^0x5e73
	t6.Mul(t6, t2)

	// Step 36: t1 = x^0x6561
	t1.Mul(t1, t6)

	// Step 37: t4 = x^0xa717
	t4.Mul(t4, t1)

	// Step 38: t2 = x^0xf3b9
	t2.Mul(t2, t4)

	// Step 39: t5 = x^0xfaad
	t5.Mul(t5, t2)

	// Step 40: t0 = x^0xfc63
	t0.Mul(t0, t5)

	// Step 41: t7 = x^0xffff
	t7.Mul(t7, t0)

	// Step 57: t8 = x^0xffff0000
	t8.Square(t7)
	for s := 1; s < 16; s++ {
		t8.Square(t8)
	}

	// Step 58: t8 = x^0xffffffff
	t8.Mul(t7, t8)

	// Step 106: t8 = x^0xffffffff000000000000
	for s := 0; s < 48; s++ {
		t8.Square(t8)
	}

	// Step 107: t8 = x^0xffffffff00000000ffff
	t8.Mul(t7, t8)

	// Step 123: t8 = x^0xffffffff00000000ffff0000
	for s := 0; s < 16; s++ {
		t8.Square(t8)
	}

	// Step 124: t8 = x^0xffffffff00000000ffffffff
	t8.Mul(t7, t8)

	// Step 140: t8 = x^0xffffffff00000000ffffffff0000
	for s := 0; s < 16; s++ {
		t8.Square(t8)
	}

	// Step 141: t8 = x^0xffffffff00000000ffffffffffff
	t8.Mul(t7, t8)

	// Step 157: t8 = x^0xffffffff00000000ffffffffffff0000
	for s := 0; s < 16; s++ {
		t8.Square(t8)
	}

	// Step 158: t7 = x^0xffffffff00000000ffffffffffffffff
	t7.Mul(t7, t8)

	// Step 173: t7 = x^0x7fffffff800000007fffffffffffffff8000
	for s := 0; s < 15; s++ {
		t7.Square(t7)
	}

	// Step 174: t6 = x^0x7fffffff800000007fffffffffffffffde73
	t6.Mul(t6, t7)

	// Step 191: t6 = x^0xffffffff00000000ffffffffffffffffbce60000
	for s := 0; s < 17; s++ {
		t6.Square(t6)
	}

	// Step 192: t5 = x^0xffffffff00000000ffffffffffffffffbce6faad
	t5.Mul(t5, t6)

	// Step 208: t5 = x^0xffffffff00000000ffffffffffffffffbce6faad0000
	for s := 0; s < 16; s++ {
		t5.Square(t5)
	}

	// Step 209: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada717
	t4.Mul(t4, t5)

	// Step 223: t4 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5c000
	for s := 0; s < 14; s++ {
		t4.Square(t4)
	}

	// Step 224: t3 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a1
	t3.Mul(t3, t4)

	// Step 242: t3 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e840000
	for s := 0; s < 18; s++ {
		t3.Square(t3)
	}

	// Step 243: t2 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9
	t2.Mul(t2, t3)

	// Step 258: t2 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dc8000
	for s := 0; s < 15; s++ {
		t2.Square(t2)
	}

	// Step 259: t1 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce561
	t1.Mul(t1, t2)

	// Step 276: t1 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac20000
	for s := 0; s < 17; s++ {
		t1.Square(t1)
	}

	// Step 277: t0 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63
	t0.Mul(t0, t1)

	// Step 287: t0 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee72b0bf18c00
	for s := 0; s < 10; s++ {
		t0.Square(t0)
	}

	// Step 288: z = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee72b0bf18c95
	z.Mul(z, t0)

	// Step 289: z = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a
	z.Square(z)

	return z
}

// ExpByLegendreExp is equivalent to z.Exp(x, 7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8).
//
// uses github.com/mmcloughlin/addchain v0.4.0 to generate a shorter addition chain
func (z *Element) ExpByLegendreExp(x Element) *Element {
	// addition chain:
	//
	//	_10       = 2*1
	//	_11       = 1 + _10
	//	_101      = _10 + _11
	//	_111      = _10 + _101
	//	_1110     = 2*_111
	//	_1111     = 1 + _1110
	//	_11110    = 2*_1111
	//	_11111    = 1 + _11110
	//	_111110   = 2*_11111
	//	_111111   = 1 + _111110
	//	_1111110  = 2*_111111
	//	_11111100 = 2*_1111110
	//	i19       = _11111100 << 6 + _11111100
	//	x32       = (i19 << 5 + _1111110) << 13 + i19 + _11
	//	i41       = 2*x32
	//	i140      = (i41 << 64 + i41) << 32 + i41 + 1
	//	i156      = ((i140 << 5 + _1111) << 5 + _111) << 4
	//	i169      = ((_11 + i156) << 6 + _11111) << 4 + _101
	//	i181      = ((i169 << 4 + _101) << 3 + _101) << 3
	//	i193      = ((_101 + i181) << 5 + _111) << 4 + 1
	//	i208      = ((i193 << 5 + _1111) << 6 + _1111) << 2
	//	i222      = ((1 + i208) << 5 + 1) << 6 + _1111
	//	i238      = ((i222 << 5 + _111) << 4 + _111) << 5
	//	i249      = ((_111 + i238) << 5 + _101) << 3 + _11
	//	i268      = ((i249 << 5 + 1) << 7 + _111111) << 5
	//	i279      = ((_11 + i268) << 5 + _11) << 3 + 1
	//	return      ((i279 << 5 + _101) << 4 + _101) << 3
	//
	// Operations: 253 squares 40 multiplies

	// Allocate Temporaries.
	var (
		t0 = new(Element)
		t1 = new(Element)
		t2 = new(Element)
		t3 = new(Element)
		t4 = new(Element)
		t5 = new(Element)
		t6 = new(Element)
		t7 = new(Element)
	)

	// var t0,t1,t2,t3,t4,t5,t6,t7 Element
	// Step 1: t1 = x^0x2
	t1.Square(&x)

	// Step 2: t0 = x^0x3
	t0.Mul(&x, t1)

	// Step 3: z = x^0x5
	z.Mul(t1, t0)

	// Step 4: t2 = x^0x7
	t2.Mul(t1, z)

	// Step 5: t1 = x^0xe
	t1.Square(t2)

	// Step 6: t3 = x^0xf
	t3.Mul(&x, t1)

	// Step 7: t1 = x^0x1e
	t1.Square(t3)

	// Step 8: t4 = x^0x1f
	t4.Mul(&x, t1)

	// Step 9: t1 = x^0x3e
	t1.Square(t4)

	// Step 10: t1 = x^0x3f
	t1.Mul(&x, t1)

	// Step 11: t6 = x^0x7e
	t6.Square(t1)

	// Step 12: t5 = x^0xfc
	t5.Square(t6)

	// Step 18: t7 = x^0x3f00
	t7.Square(t5)
	for s := 1; s < 6; s++ {
		t7.Square(t7)
	}

	// Step 19: t5 = x^0x3ffc
	t5.Mul(t5, t7)

	// Step 24: t7 = x^0x7ff80
	t7.Square(t5)
	for s := 1; s < 5; s++ {
		t7.Square(t7)
	}

	// Step 25: t6 = x^0x7fffe
	t6.Mul(t6, t7)

	// Step 38: t6 = x^0xffffc000
	for s := 0; s < 13; s++ {
		t6.Square(t6)
	}

	// Step 39: t5 = x^0xfffffffc
	t5.Mul(t5, t6)

	// Step 40: t5 = x^0xffffffff
	t5.Mul(t0, t5)

	// Step 41: t5 = x^0x1fffffffe
	t5.Square(t5)

	// Step 105: t6 = x^0x1fffffffe0000000000000000
	t6.Square(t5)
	for s := 1; s < 64; s++ {
		t6.Square(t6)
	}

	// Step 106: t6 = x^0x1fffffffe00000001fffffffe
	t6.Mul(t5, t6)

	// Step 138: t6 = x^0x1fffffffe00000001fffffffe00000000
	for s := 0; s < 32; s++ {
		t6.Square(t6)
	}

	// Step 139: t5 = x^0x1fffffffe00000001fffffffffffffffe
	t5.Mul(t5, t6)

	// Step 140: t5 = x^0x1fffffffe00000001ffffffffffffffff
	t5.Mul(&x, t5)

	// Step 145: t5 = x^0x3fffffffc00000003fffffffffffffffe0
	for s := 0; s < 5; s++ {
		t5.Square(t5)
	}

	// Step 146: t5 = x^0x3fffffffc00000003fffffffffffffffef
	t5.Mul(t3, t5)

	// Step 151: t5 = x^0x7fffffff800000007fffffffffffffffde0
	for s := 0; s < 5; s++ {
		t5.Square(t5)
	}

	// Step 152: t5 = x^0x7fffffff800000007fffffffffffffffde7
	t5.Mul(t2, t5)

	// Step 156: t5 = x^0x7fffffff800000007fffffffffffffffde70
	for s := 0; s < 4; s++ {
		t5.Square(t5)
	}

	// Step 157: t5 = x^0x7fffffff800000007fffffffffffffffde73
	t5.Mul(t0, t5)

	// Step 163: t5 = x^0x1fffffffe00000001ffffffffffffffff79cc0
	for s := 0; s < 6; s++ {
		t5.Square(t5)
	}

	// Step 164: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf
	t4.Mul(t4, t5)

	// Step 168: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf0
	for s := 0; s < 4; s++ {
		t4.Square(t4)
	}

	// Step 169: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf5
	t4.Mul(z, t4)

	// Step 173: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf50
	for s := 0; s < 4; s++ {
		t4.Square(t4)
	}

	// Step 174: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf55
	t4.Mul(z, t4)

	// Step 177: t4 = x^0xffffffff00000000ffffffffffffffffbce6faa8
	for s := 0; s < 3; s++ {
		t4.Square(t4)
	}

	// Step 178: t4 = x^0xffffffff00000000ffffffffffffffffbce6faad
	t4.Mul(z, t4)

	// Step 181: t4 = x^0x7fffffff800000007fffffffffffffffde737d568
	for s := 0; s < 3; s++ {
		t4.Square(t4)
	}

	// Step 182: t4 = x^0x7fffffff800000007fffffffffffffffde737d56d
	t4.Mul(z, t4)

	// Step 187: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada0
	for s := 0; s < 5; s++ {
		t4.Square(t4)
	}

	// Step 188: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada7
	t4.Mul(t2, t4)

	// Step 192: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada70
	for s := 0; s < 4; s++ {
		t4.Square(t4)
	}

	// Step 193: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada71
	t4.Mul(&x, t4)

	// Step 198: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e20
	for s := 0; s < 5; s++ {
		t4.Square(t4)
	}

	// Step 199: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f
	t4.Mul(t3, t4)

	// Step 205: t4 = x^0x7fffffff800000007fffffffffffffffde737d56d38bc0
	for s := 0; s < 6; s++ {
		t4.Square(t4)
	}

	// Step 206: t4 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf
	t4.Mul(t3, t4)

	// Step 208: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3c
	for s := 0; s < 2; s++ {
		t4.Square(t4)
	}

	// Step 209: t4 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3d
	t4.Mul(&x, t4)

	// Step 214: t4 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a0
	for s := 0; s < 5; s++ {
		t4.Square(t4)
	}

	// Step 215: t4 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a1
	t4.Mul(&x, t4)

	// Step 221: t4 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e840
	for s := 0; s < 6; s++ {
		t4.Square(t4)
	}

	// Step 222: t3 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f
	t3.Mul(t3, t4)

	// Step 227: t3 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3d09e0
	for s := 0; s < 5; s++ {
		t3.Square(t3)
	}

	// Step 228: t3 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3d09e7
	t3.Mul(t2, t3)

	// Step 232: t3 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3d09e70
	for s := 0; s < 4; s++ {
		t3.Square(t3)
	}

	// Step 233: t3 = x^0x1fffffffe00000001ffffffffffffffff79cdf55b4e2f3d09e77
	t3.Mul(t2, t3)

	// Step 238: t3 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee0
	for s := 0; s < 5; s++ {
		t3.Square(t3)
	}

	// Step 239: t2 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee7
	t2.Mul(t2, t3)

	// Step 244: t2 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce0
	for s := 0; s < 5; s++ {
		t2.Square(t2)
	}

	// Step 245: t2 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5
	t2.Mul(z, t2)

	// Step 248: t2 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee728
	for s := 0; s < 3; s++ {
		t2.Square(t2)
	}

	// Step 249: t2 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee72b
	t2.Mul(t0, t2)

	// Step 254: t2 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce560
	for s := 0; s < 5; s++ {
		t2.Square(t2)
	}

	// Step 255: t2 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce561
	t2.Mul(&x, t2)

	// Step 262: t2 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee72b080
	for s := 0; s < 7; s++ {
		t2.Square(t2)
	}

	// Step 263: t1 = x^0x3fffffffc00000003fffffffffffffffef39beab69c5e7a13cee72b0bf
	t1.Mul(t1, t2)

	// Step 268: t1 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e0
	for s := 0; s < 5; s++ {
		t1.Square(t1)
	}

	// Step 269: t1 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3
	t1.Mul(t0, t1)

	// Step 274: t1 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc60
	for s := 0; s < 5; s++ {
		t1.Square(t1)
	}

	// Step 275: t0 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63
	t0.Mul(t0, t1)

	// Step 278: t0 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e318
	for s := 0; s < 3; s++ {
		t0.Square(t0)
	}

	// Step 279: t0 = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e319
	t0.Mul(&x, t0)

	// Step 284: t0 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc6320
	for s := 0; s < 5; s++ {
		t0.Square(t0)
	}

	// Step 285: t0 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc6325
	t0.Mul(z, t0)

	// Step 289: t0 = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63250
	for s := 0; s < 4; s++ {
		t0.Square(t0)
	}

	// Step 290: z = x^0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63255
	z.Mul(z, t0)

	// Step 293: z = x^0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8
	for s := 0; s < 3; s++ {
		z.Square(z)
	}

	return z
}
